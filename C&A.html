<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C&A Interactive Carbon Report</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; max-height: 400px; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .nav-link.active { color: #C4DFE6; border-bottom-color: #C4DFE6; }
        .strategy-card { transition: all 0.3s ease-in-out; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <header class="bg-[#003B46] text-white p-6 text-center shadow-lg">
        <h1 class="text-3xl md:text-5xl font-black tracking-tight">C&A's Interactive Sustainability Report</h1>
        <p class="text-lg md:text-xl mt-2 text-[#C4DFE6]">Explore Our Data-Driven Path to a Low-Carbon Future</p>
    </header>

    <nav class="sticky top-0 bg-[#07575B] text-white shadow-md z-50">
        <div class="container mx-auto flex justify-center items-center p-3 space-x-4 md:space-x-8">
            <a href="#overview" class="nav-link text-sm md:text-base font-bold border-b-2 border-transparent hover:border-[#C4DFE6] transition-colors duration-300 pb-1">Overview</a>
            <a href="#deep-dive" class="nav-link text-sm md:text-base font-bold border-b-2 border-transparent hover:border-[#C4DFE6] transition-colors duration-300 pb-1">Footprint Deep Dive</a>
            <a href="#strategy" class="nav-link text-sm md:text-base font-bold border-b-2 border-transparent hover:border-[#C4DFE6] transition-colors duration-300 pb-1">Strategy Explorer</a>
            <a href="#scenarios" class="nav-link text-sm md:text-base font-bold border-b-2 border-transparent hover:border-[#C4DFE6] transition-colors duration-300 pb-1">Future Scenarios</a>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">

        <section id="overview" class="pt-16 -mt-16 bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-3xl font-bold text-[#003B46] mb-4 text-center">Our Commitment: A Science-Based Target</h2>
            <p class="max-w-3xl mx-auto text-gray-600 mb-6 text-center">We are committed to a 30% absolute reduction in greenhouse gas emissions by 2030, from a 2018 baseline. This goal, approved by the Science Based Targets initiative, guides our every action and demonstrates our dedication to tangible change.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="flex flex-col items-center justify-center text-center">
                    <p class="text-lg text-gray-700">Progress Towards 2030 Goal:</p>
                    <div class="chart-container h-64 md:h-80 max-h-[350px]">
                        <canvas id="progressChart"></canvas>
                    </div>
                </div>
                <div id="overview-text-panel" class="p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-xl font-bold text-[#07575B] mb-2">Ahead of the Curve</h3>
                    <p class="text-gray-700">As of 2022, we have already achieved a <span class="font-bold text-[#003B46]">32% reduction</span> in GHG emissions compared to our baseline. This significant progress demonstrates the effectiveness of our strategies, particularly in sourcing more sustainable materials and improving supply chain efficiency. While we are proud of this achievement, our work is far from over as we continue to decarbonize our entire value chain.</p>
                </div>
            </div>
        </section>

        <section id="deep-dive" class="pt-16 -mt-16 bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-3xl font-bold text-[#003B46] text-center mb-2">Interactive Footprint Deep Dive</h2>
            <p class="max-w-3xl mx-auto text-gray-600 mb-6 text-center">Understanding our impact is the first step to reducing it. Use the buttons below to explore the different dimensions of our carbon footprint.</p>
            <div class="flex justify-center flex-wrap gap-2 mb-6">
                <button data-view="scope" class="view-btn bg-[#07575B] text-white px-4 py-2 rounded-md hover:bg-[#003B46] transition-colors">By Scope</button>
                <button data-view="material" class="view-btn bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors">By Material</button>
                <button data-view="product" class="view-btn bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors">By Product</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="md:col-span-2" id="chart-and-controls-container">
                    <div class="chart-container h-80 md:h-96 max-h-[450px]">
                        <canvas id="deepDiveChart"></canvas>
                    </div>
                    <div id="chart-controls" class="text-center mt-4"></div>
                </div>
                <div id="deep-dive-text-panel" class="md:col-span-2 p-4 bg-gray-50 rounded-lg">
                    <h3 id="deep-dive-title" class="text-xl font-bold text-[#07575B] mb-2"></h3>
                    <p id="deep-dive-text" class="text-gray-700"></p>
                </div>
            </div>
        </section>

        <section id="strategy" class="pt-16 -mt-16 bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-3xl font-bold text-center text-[#003B46] mb-2">Strategy Explorer</h2>
            <p class="max-w-3xl mx-auto text-gray-600 mb-8 text-center">Our reduction plan is a multi-pronged strategy focused on the areas of greatest impact. Click on each pillar to learn more about our targeted actions.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="strategy-card bg-gray-50 p-6 rounded-lg border-b-4 border-[#66A5AD] hover:shadow-xl hover:-translate-y-1 cursor-pointer" data-strategy="materials">
                    <div class="text-5xl mb-4">üåø</div>
                    <h3 class="text-xl font-bold text-[#07575B] mb-2">Sustainable Materials</h3>
                    <p class="text-gray-600">Transitioning to materials with a lower environmental footprint.</p>
                </div>
                <div class="strategy-card bg-gray-50 p-6 rounded-lg border-b-4 border-[#66A5AD] hover:shadow-xl hover:-translate-y-1 cursor-pointer" data-strategy="circularity">
                     <div class="text-5xl mb-4">‚ôªÔ∏è</div>
                    <h3 class="text-xl font-bold text-[#07575B] mb-2">Circular Innovation</h3>
                    <p class="text-gray-600">Designing waste out of our products and business models.</p>
                </div>
                <div class="strategy-card bg-gray-50 p-6 rounded-lg border-b-4 border-[#66A5AD] hover:shadow-xl hover:-translate-y-1 cursor-pointer" data-strategy="supplychain">
                    <div class="text-5xl mb-4">ü§ù</div>
                    <h3 class="text-xl font-bold text-[#07575B] mb-2">Supply Chain Decarbonization</h3>
                    <p class="text-gray-600">Partnering with suppliers to drive system-wide change.</p>
                </div>
            </div>
            <div id="strategy-details" class="mt-6 p-6 bg-gray-100 rounded-lg hidden">
                <h4 id="strategy-detail-title" class="text-2xl font-bold text-[#003B46] mb-3"></h4>
                <p id="strategy-detail-text" class="text-gray-700"></p>
            </div>
        </section>

        <section id="scenarios" class="pt-16 -mt-16 bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-3xl font-bold text-center text-[#003B46] mb-2">Modeling Future Scenarios</h2>
            <p class="max-w-3xl mx-auto text-gray-600 mb-8 text-center">The choices we make today shape our future. Use the slider below to see how accelerating our sustainable strategy impacts our long-term emissions trajectory compared to a business-as-usual approach.</p>
            <div class="chart-container h-96 md:h-[50vh] max-h-[500px]">
                <canvas id="forecastChart"></canvas>
            </div>
            <div class="max-w-xl mx-auto mt-6">
                <label for="strategy-slider" class="block text-center font-bold text-[#07575B]">Strategy Adoption Rate: <span id="slider-value">50</span>%</label>
                <input id="strategy-slider" type="range" min="0" max="100" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
            </div>
        </section>
    </main>

    <footer class="bg-[#003B46] text-white text-center p-6 mt-8">
        <p>C&A | Inspiring a better tomorrow, today.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const palette = {
                primary: '#07575B', secondary: '#66A5AD', accent: '#C4DFE6',
                neutral: '#003B46', highlight: '#E4F1FE', danger: '#D9534F'
            };

            const tooltipTitleCallback = {
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                return Array.isArray(label) ? label.join(' ') : label;
                            }
                        }
                    }
                }
            };

            function wrapLabel(str) {
                const maxLength = 16;
                if (str.length <= maxLength) return str;
                const words = str.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length > maxLength) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                    currentLine += word + ' ';
                });
                lines.push(currentLine.trim());
                return lines;
            }
            
            let deepDiveChartInstance;

            const deepDiveData = {
                scope: {
                    type: 'pie',
                    title: 'Emissions by Scope',
                    text: 'An overwhelming 96% of our emissions are Scope 3, embedded within our value chain (materials, production, transport). Only 4% are Scope 1 & 2 (our own stores, offices, and vehicles). This is why our focus must be on collaboration with our supply chain partners.',
                    data: {
                        labels: ['Scope 3: Supply Chain', 'Scope 1 & 2: Direct Operations'],
                        datasets: [{
                            data: [96, 4],
                            backgroundColor: [palette.secondary, palette.primary],
                            borderColor: '#ffffff',
                            borderWidth: 4
                        }]
                    },
                    options: { plugins: { legend: { position: 'bottom' }, ...tooltipTitleCallback.plugins } }
                },
                material: {
                    type: 'bar',
                    title: 'Core Material Mix Contribution',
                    text: 'Our core materials make up the bulk of our collections. Cotton is the largest component, making the shift to organic and Better Cotton a high-impact lever for emissions reduction. Increasing the share of recycled polyester is another key priority.',
                    data: {
                        labels: ['Cotton', 'Polyester', 'Man-Made Cellulosics', 'Others'],
                        datasets: [{
                            label: 'Share of Material Mix (%)',
                            data: [62.7, 18.5, 8.1, 10.7],
                            backgroundColor: [palette.primary, palette.secondary, palette.neutral, palette.accent]
                        }]
                    },
                    options: { scales: { y: { beginAtZero: true } }, plugins: { legend: { display: false }, ...tooltipTitleCallback.plugins } }
                },
                product: {
                    type: 'bar',
                    title: 'Comparing Product Footprints',
                    text: 'Not all garments are created equal. Conventional denim production is highly resource-intensive. By contrast, innovative approaches like our Cradle to Cradle Certified‚Ñ¢ products significantly reduce environmental impact. Use the toggle to see the difference.',
                    data: {
                        labels: ['Conventional Cotton T-Shirt', 'Conventional Polyester Blouse', 'Conventional Denim Jeans', wrapLabel('C&A Cradle-to-Cradle Certified Jeans')],
                        datasets: [{
                            label: 'Avg. Emissions (kg CO2e)',
                            data: [11.5, 12.7, 20.0, 12.4],
                            backgroundColor: [palette.secondary, palette.secondary, palette.danger, palette.primary],
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        scales: { x: { beginAtZero: true, title: { display: true, text: 'kg CO2e' } } },
                        plugins: { legend: { display: false }, ...tooltipTitleCallback.plugins }
                    },
                    controls: `<button id="product-toggle" class="bg-[#07575B] text-white px-4 py-2 rounded-md hover:bg-[#003B46] transition-colors">Show Recycled/Sustainable Alternatives</button>`,
                    altData: {
                        datasets: [{
                            label: 'Avg. Emissions (kg CO2e)',
                            data: [7.5, 3.8, 20.0, 12.4],
                            backgroundColor: [palette.primary, palette.primary, palette.danger, palette.primary],
                        }]
                    }
                }
            };

            function updateDeepDive(view) {
                if (deepDiveChartInstance) {
                    deepDiveChartInstance.destroy();
                }

                const config = deepDiveData[view];
                document.getElementById('deep-dive-title').textContent = config.title;
                document.getElementById('deep-dive-text').textContent = config.text;

                const ctx = document.getElementById('deepDiveChart').getContext('2d');
                deepDiveChartInstance = new Chart(ctx, {
                    type: config.type,
                    data: config.data,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        ...config.options
                    }
                });
                
                const controlsContainer = document.getElementById('chart-controls');
                controlsContainer.innerHTML = config.controls || '';

                if (view === 'product') {
                    const toggleBtn = document.getElementById('product-toggle');
                    let isAlt = false;
                    toggleBtn.addEventListener('click', () => {
                        isAlt = !isAlt;
                        const newData = isAlt ? config.altData.datasets[0].data : config.data.datasets[0].data;
                        const newColors = isAlt ? config.altData.datasets[0].backgroundColor : config.data.datasets[0].backgroundColor;
                        deepDiveChartInstance.data.datasets[0].data = newData;
                        deepDiveChartInstance.data.datasets[0].backgroundColor = newColors;
                        deepDiveChartInstance.update();
                        toggleBtn.textContent = isAlt ? 'Show Conventional Products' : 'Show Recycled/Sustainable Alternatives';
                    });
                }

                document.querySelectorAll('.view-btn').forEach(btn => {
                    btn.classList.remove('bg-[#07575B]', 'text-white');
                    btn.classList.add('bg-gray-200', 'text-gray-800');
                    if (btn.dataset.view === view) {
                        btn.classList.add('bg-[#07575B]', 'text-white');
                        btn.classList.remove('bg-gray-200', 'text-gray-800');
                    }
                });
            }

            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', () => updateDeepDive(btn.dataset.view));
            });

            updateDeepDive('scope');

            const progressCtx = document.getElementById('progressChart').getContext('2d');
            new Chart(progressCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Reduction Achieved (32%)', 'Remaining to 2030 Goal'],
                    datasets: [{ data: [32, 100 - 32], backgroundColor: [palette.primary, palette.accent], borderWidth: 4, borderColor: '#ffffff' }]
                },
                options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { position: 'bottom' }, ...tooltipTitleCallback.plugins } }
            });
            
            const strategyDetails = {
                materials: {
                    title: 'üåø Accelerating Sustainable Materials',
                    text: 'Our goal is 100% sustainable core materials by 2028. This involves scaling up our use of certified organic and Better Cotton, which reduces water and pesticide use. We are also aggressively increasing our procurement of recycled polyester, which has a carbon footprint over 70% lower than its virgin counterpart, turning plastic bottle waste into fashion.'
                },
                circularity: {
                    title: '‚ôªÔ∏è Championing a Circular Economy',
                    text: 'We aim for 70% of our products to follow circular design principles by 2028. This includes creating durable, recyclable garments like our Cradle to Cradle Certified‚Ñ¢ products, which are designed to be safely remade. We are also expanding take-back programs and resale partnerships to extend the life of every item we produce.'
                },
                supplychain: {
                    title: 'ü§ù Driving Supply Chain Decarbonization',
                    text: 'Since 96% of our emissions originate in our supply chain, collaboration is crucial. We work with over 400 facilities through the Higg FEM module to measure and improve environmental performance. Our focus is on helping our partners improve energy efficiency and transition to renewable energy sources, creating a ripple effect of positive change.'
                }
            };
            
            const strategyCards = document.querySelectorAll('.strategy-card');
            const detailsContainer = document.getElementById('strategy-details');
            const detailTitle = document.getElementById('strategy-detail-title');
            const detailText = document.getElementById('strategy-detail-text');

            strategyCards.forEach(card => {
                card.addEventListener('click', () => {
                    const strategyKey = card.dataset.strategy;
                    const content = strategyDetails[strategyKey];
                    
                    strategyCards.forEach(c => c.classList.remove('bg-gray-200', 'shadow-xl', '-translate-y-1'));
                    card.classList.add('bg-gray-200', 'shadow-xl', '-translate-y-1');

                    detailTitle.textContent = content.title;
                    detailText.textContent = content.text;
                    detailsContainer.classList.remove('hidden');
                });
            });

            const forecastCtx = document.getElementById('forecastChart').getContext('2d');
            const years = Array.from({ length: 11 }, (_, i) => new Date().getFullYear() + i);
            const businessAsUsual = years.map((_, i) => 100 + i * 1.5);

            const forecastChart = new Chart(forecastCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        { label: 'Business as Usual', data: businessAsUsual, borderColor: palette.danger, fill: false, tension: 0.3 },
                        { label: 'Sustainable Strategy Path', data: [], borderColor: palette.primary, backgroundColor: 'rgba(7, 87, 91, 0.2)', fill: true, tension: 0.3 }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' }, ...tooltipTitleCallback.plugins }, scales: { y: { beginAtZero: true, title: { display: true, text: 'Relative Emissions Index (Current = 100)' } } } }
            });

            const slider = document.getElementById('strategy-slider');
            const sliderValue = document.getElementById('slider-value');

            function updateForecast(adoptionRate) {
                const reductionFactor = 1 - (0.08 * (adoptionRate / 100)); // 8% annual reduction at 100%
                const sustainablePath = years.map((_, i) => 100 * Math.pow(reductionFactor, i));
                forecastChart.data.datasets[1].data = sustainablePath;
                forecastChart.update();
                sliderValue.textContent = adoptionRate;
            }
            
            slider.addEventListener('input', (e) => updateForecast(e.target.value));
            updateForecast(slider.value);
            
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');
            
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 60) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>
</html>
